{% extends "base_user.html" %}
{% load static %}

{% block navbar %}
{% include 'partials/navbar.html' %}

{% endblock %}


{% block content %}

<!-- <div class="site-blocks-cover inner-page-cover overlay" style="background-image: url(images/hero_bg_2.jpg);"
    data-aos="fade" data-stellar-background-ratio="0.5">
    <div class="container">
      <div class="row align-items-center justify-content-center text-center">
        <div class="col-md-10">
          <h1 class="mb-2">Join Us</h1>
        </div>
      </div>
    </div>
  </div> -->

<!-- Register -->
<div class="site-section">
  <!-- Section: Design Block -->
  <section class="container-lg rounded-5">
    <!-- Jumbotron -->
    <div class="px-4 py-5 px-md-5" style="background-color: hsl(0, 0%, 96%)">
      <div class="container">
        <div class="row gx-lg-5 align-items-center">
          <div class="col-lg-6 mb-5 mb-lg-0 text-center text-lg-start">

            <h1 class="my-5 display-3 fw-bold ls-tight fs-3" style="color: #1ab03c;">
              The Ultimate Solution
              <br />
              <span style="color: #212A55;">for Streamlined Property Transactions</span>
            </h1>

            <p style="color: #7b7b7b">
              Welcome to our cutting-edge Real Estate Management System! Whether you're a property seeker eager to
              find your dream home or a property owner looking to market your listings seamlessly, we've crafted the
              best offer for your real estate needs. Join us today and experience the simplicity, efficiency, and
              innovation that redefine property transactions in Mogadishu, Somalia.
            </p>
          </div>

          <div class="col-lg-6 mb-5 mb-lg-0">

            <div class="card" style="border-radius: 5px; border: 0;">
              <div class="card-body py-5 px-md-5">
                <h3 class="text-center fs-5 fw-bold pb-2 text-uppercase" style="color: #212A55;">Join Us</h3>
                {% include "partials/alert_message.html" %}
                <form action="{% url 'accounts_app:register' %}" method="POST" id="loginForm">

                  {% csrf_token %}
                  <!-- 2 column grid layout with text inputs for the first and last names -->
                  <div class="row">
                    <div class="col-md-12">
                      <div class="">
                        <div data-mdb-input-init class="form-outline">
                          <input type="text" id="first_name" name="first_name" value="{{ request.POST.first_name|default_if_none:'' }}" style="height: 40px;" class="form-control my-3" />
                          <label class="form-label" for="first_name">First Name</label>
                        </div>
                      </div>
                    </div>


                  </div>

                  <div class="row">
                    <div class="col-md-6">
                      <div class="">
                        <div data-mdb-input-init class="form-outline">
                          <input type="text" id="middle_name" name="middle_name" value="{{ request.POST.middle_name|default_if_none:'' }}" style="height: 40px;" class="form-control my-3" />
                          <label class="form-label" for="middle_name">Middle Name</label>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="">
                        <div data-mdb-input-init class="form-outline">
                          <input type="text" id="last_name" name="last_name" value="{{ request.POST.last_name|default_if_none:'' }}" style="height: 40px;" class="form-control my-3" />
                          <label class="form-label" for="last_name">Last Name</label>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="row">

                    <div class="col-md-6">
                      <!-- Email input -->
                      <div class="">
                        <div data-mdb-input-init class="form-outline">
                          <input type="email" id="type_email" name="type_email" value="{{ request.POST.type_email|default_if_none:'' }}" style="height: 40px;" class="form-control my-3" />
                          <label class="form-label" for="type_email">Email Address</label>
                        </div>
                      </div>
                    </div>

                    <div class="col-md-6" style="margin-top: 17px">
                      <!-- Email input -->
                      <div class="mb-3">

                        <select class="form-select"  name="gender" id="gender">
                          <option value="" {% if not request.POST.gender %}selected{% endif %}>Choose Your Gender</option>
                          <option value="male" {% if request.POST.gender == 'male' %}selected{% endif %}>Male</option>
                          <option value="female" {% if request.POST.gender == 'female' %}selected{% endif %}>Female</option>

                        </select>
                        <div class="invalid-feedback">
                          Choose Your Gender
                        </div>
                      </div>
                    </div>

                  </div>

                  <div class="row">
                    <div class="col-md-6">
                      <div class="">
                        <div data-mdb-input-init class="form-outline">
                          <input type="date" id="date_of_birth" value="{{ request.POST.date_of_birth|default_if_none:'' }}" name="date_of_birth" style="height: 40px;" class="form-control my-3" />
                          <label class="form-label" for="date_of_birth">Date of Birth</label>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="">
                        <div data-mdb-input-init class="form-outline">
                          <input type="text" id="phone_number" name="phone_number" value="{{ request.POST.phone_number|default_if_none:'' }}" style="height: 40px;" class="form-control my-3" />
                          <label class="form-label" for="last_name">Phone Number</label>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-md-6">
                      <div class="">
                        <div data-mdb-input-init class="form-outline">
                          <input type="text" id="address" name="address" value="{{ request.POST.address|default_if_none:'' }}" style="height: 40px;" class="form-control my-3"/>
                          <label class="form-label" for="address">Address</label>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="">
                        <div data-mdb-input-init class="form-outline">
                          <input type="text" id="occupation" name="occupation" value="{{ request.POST.occupation|default_if_none:'' }}" style="height: 40px;" class="form-control my-3"/>
                          <label class="form-label" for="occupation">Occupation</label>
                        </div>
                      </div>

                    </div>
                  </div>

                  <div class="row">
                    <div class="col-md-6" style="margin-top:17px">
                      <div class="mb-3">

                        <select class="form-select" id="state" name="state">
                          <option value="" {% if not request.POST.state %}selected{% endif %}>Choose State of Residence</option>
                          <option value="Banadir" {% if request.POST.state == 'Banadir' %}selected{% endif %}>Banadir</option>
                          <option value="Hershabelle" {% if request.POST.state == 'Hershabelle' %}selected{% endif %}>Hershabelle</option>
                          <option value="Galmudug" {% if request.POST.state == 'Galmudug' %}selected{% endif %}>Galmudug</option>
                          <option value="Jubbaland" {% if request.POST.state == 'Jubbaland' %}selected{% endif %}>Jubbaland</option>
                          <option value="Koonfur-galbeed" {% if request.POST.state == 'Koonfur-galbeed' %}selected{% endif %}>Koonfur Galbeed</option>
                          <option value="Puntland" {% if request.POST.state == 'Puntland' %}selected{% endif %}>Buntland</option>

                        </select>
                        <div class="invalid-feedback">
                          Choose State of Residence
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6" style="margin-top:17px">
                      <div class="mb-3">
                        <select class="form-select" id="type_of_user" name="type_of_user">
                          <option value="" {% if not request.POST.type_of_user %}selected{% endif %}>Choose Your Type</option>
                          <option value="Owner" {% if request.POST.type_of_user == 'Owner' %}selected{% endif %}>Owner</option>
                          <option value="Tenant" {% if request.POST.type_of_user == 'Tenant' %}selected{% endif %}>Tenant</option>
                        </select>
                        <div class="invalid-feedback">
                          Choose State of Residence
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="row mb-4">
                    <div class="col-md-6">
                      
                      <div class="">
                        <div data-mdb-input-init class="form-outline">
                          <input type="password" id="password" name="password" value="{{ request.POST.password|default_if_none:'' }}"  class="form-control my-3 no-border" style="width: 94%;" />
                          <button type="button" onclick="togglePasswordVisibility()" style="border: none; background: none; position: absolute; right: 10px; top: 10px;">
                              <i class="fas fa-eye text-dark" id="toggleIcon"></i>
                          </button>
                          <label class="form-label" for="password">Password</label>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <!-- confirm pass input -->
                      <div class="">
                        <div data-mdb-input-init class="form-outline">
                          <input type="password" id="confirm_password" name="confirm_password" value="{{ request.POST.confirm_password|default_if_none:'' }}" class="form-control my-3 no-border" style="width: 94%;" />
                          <button type="button" onclick="toggleConfirmPasswordVisibility()" style="border: none; background: none; position: absolute; right: 10px; top: 10px;">
                              <i class="fas fa-eye text-dark" id="toggleIconconfirm"></i>
                          </button>
                          <label class="form-label" for="confirm_password">Confirm Password</label>
                        </div>
                      </div>
                    </div>

                  </div>



                  <div class="row">
                    <div class="col-md-12">
                      <!-- Submit button -->
                      <button class="btn btn-primary btn-block mb-4" type="submit">
                        <span class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true"></span>
                        <span class="button-text">Register</span>
                      </button>

                      <!-- Register buttons -->
                      <div class="text-center">

                        <button type="button" class="btn btn-link btn-floating mx-1">
                          <i class="fab fa-facebook-f"></i>
                        </button>

                        <button type="button" class="btn btn-link btn-floating mx-1">
                          <i class="fab fa-google"></i>
                        </button>

                        <button type="button" class="btn btn-link btn-floating mx-1">
                          <i class="fab fa-twitter"></i>
                        </button>

                        <button type="button" class="btn btn-link btn-floating mx-1">
                          <i class="fab fa-github"></i>
                        </button>
                      </div>
                    </div>
                  </div>


                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Jumbotron -->
  </section>
  <!-- Section: Design Block -->
</div>


{% endblock %}

{% block footer %}
    <!-- Footer content -->
    {% include 'partials/footer.html' %}

<!-- MDB -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/7.2.0/mdb.umd.min.js"></script>

<script src='https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js'></script>

<script src="{% static "partials/js/snipperBtn.js" %}"></script>

<script type="text/javascript">
  // Function to toggle password visibility
  function togglePasswordVisibility() {
    var passwordInput = document.getElementById('password');
    var toggleIcon = document.getElementById('toggleIcon');
    if (passwordInput.type === 'password') {
        passwordInput.type = 'text';
        toggleIcon.classList.remove('fa-eye');
        toggleIcon.classList.add('fa-eye-slash');
    } else {
        passwordInput.type = 'password';
        toggleIcon.classList.remove('fa-eye-slash');
        toggleIcon.classList.add('fa-eye');
    }
  }

  // Function to toggle confirm password visibility
  function toggleConfirmPasswordVisibility() {
    var passwordInput = document.getElementById('confirm_password');
    var toggleIcon = document.getElementById('toggleIconconfirm');
    if (passwordInput.type === 'password') {
        passwordInput.type = 'text';
        toggleIcon.classList.remove('fa-eye');
        toggleIcon.classList.add('fa-eye-slash');
    } else {
        passwordInput.type = 'password';
        toggleIcon.classList.remove('fa-eye-slash');
        toggleIcon.classList.add('fa-eye');
    }
  }
</script>

{% endblock %}