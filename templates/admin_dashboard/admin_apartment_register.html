{% extends "base_admin.html" %}
{% load static %}

<!-- wrapper -->
{% block wrapper %}

{% include "admin_partial/left_sidebar.html" %}

<div class="content-page">
    <div class="content">
        {% include "admin_partial/topbar.html" %}
        <!-- Start Content-->
        <div class="container-fluid">

            <!-- start page title -->
            <div class="row">
                <div class="col-12">
                    <div class="page-title-box">
                        <div class="page-title-right">
                            <ol class="breadcrumb m-0">
                                <li class="breadcrumb-item"><a href="javascript: void(0);">SomaliRealEState</a>
                                </li>
                                <li class="breadcrumb-item"><a href="javascript: void(0);">Page</a></li>
                                <li class="breadcrumb-item active">Create Apartment</li>
                            </ol>
                        </div>
                        <h4 class="page-title">Create an Apartement</h4>
                    </div>
                </div>
            </div>
            <!-- end page title -->


            <!-- tab -->
            <div class="row">
                <div class="col-xl-12">
                    <div class="card">
                        <div class="card-body">
                            {% include "partials/alert_message.html" %}
                            <h4 class="mt-2">Basic Details</h4>

                            <p class="text-muted mb-4">Please complete the form below to
                                register your apartment.</p>

                            <div id="rootwizard">
                                <ul class="nav nav-pills nav-justified form-wizard-header mb-3">
                                    <li class="nav-item" data-target-form="#accountForm">
                                        <a href="#first" data-bs-toggle="tab" data-toggle="tab"
                                            class="nav-link rounded-0 pt-2 pb-2">
                                            <i class="mdi mdi-account-circle me-1"></i>
                                            <span class="d-none d-sm-inline">Basic Details</span>
                                        </a>
                                    </li>
                                    <li class="nav-item" data-target-form="#profileForm">
                                        <a href="#second" data-bs-toggle="tab" data-toggle="tab"
                                            class="nav-link rounded-0 pt-2 pb-2">
                                            <i class="mdi mdi-face-profile me-1"></i>
                                            <span class="d-none d-sm-inline">Location & Features</span>
                                        </a>
                                    </li>
                                    <li class="nav-item" data-target-form="#otherForm">
                                        <a href="#third" data-bs-toggle="tab" data-toggle="tab"
                                            class="nav-link rounded-0 pt-2 pb-2">
                                            <i class="mdi mdi-checkbox-marked-circle-outline me-1"></i>
                                            <span class="d-none d-sm-inline">Finish</span>
                                        </a>
                                    </li>
                                </ul>
                                
                                <form id="accountForm" method="POST" action="{% url 'admin_dashboard:create_apartment_admin' %}" enctype="multipart/form-data" class="form-horizontal">
                                    {% csrf_token %}
                                    <div class="tab-content mb-0 b-0">

                                        <div class="tab-pane" id="first">
                                            
                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <div class="mb-3">
                                                            <label for="apartment-name"
                                                                class="form-label col-form-label">Apartment Name <span
                                                                    class="text-danger">*</span></label>
                                                            <input class="form-control" type="text"
                                                                placeholder="Enter your apartment name" id="apartment-name"
                                                                name="apartment-name"
                                                                style="height: 40px;" required />
                                                        </div>

                                                    </div> <!-- end col -->

                                                
                                                </div> <!-- end row -->

                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <div class="mb-3">
                                                            <label for="year-built" class="form-label">Year Built
                                                                <span class="text-danger">*</span></label>
                                                            <input class="form-control" type="year"
                                                                placeholder="Enter the year your apartment was built"
                                                                id="year-built" name="year-built"
                                                                required />
                                                        </div>

                                                    </div> <!-- end col -->

                                                    <div class="col-md-6">
                                                        <div class="mb-3">
                                                            <label class="area">Area <span
                                                                    class="text-danger">*</span></label>
                                                            <div class="input-group flex-nowrap" style="margin-top: 8px;">
                                                                <span class="input-group-text" id="basic-addon1">SQ
                                                                    Ft</span>
                                                                <input type="text" class="form-control" aria-label="rent"
                                                                    aria-describedby="basic-addon1" id="area" name="area"
                                                                    required>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div> <!-- end row -->

                                                <div class="row">
                                                    <div class="col-12">
                                                        <div class="mb-3">
                                                            <label for="owners" class="form-label">Choose Your Name:</label>
                                                                <select data-toggle="select2" title="District" id="owners" name="owner-id" required style="height: 40px;">
                                                                    <option value="">Choose Your Name</option>
                                                                    {% for owner in owners %}
                                                                    <option value="{{ owner.id }}">{{ owner.first_name }} {{ owner.middle_name }}</option>
                                                                    {% endfor %}
                                                                </select>
                                                            <div class="invalid-feedback">
                                                              Choose owner name
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!-- end col -->


                                                </div> <!-- end row -->

                                                <div class="row">
                                                    <div class="col-12">


                                                        <div class="mb-3">
                                                            <label for="description" class="form-label">Description
                                                                (Optional)</label>
                                                            <textarea class="form-control" id="description"
                                                                name="description"
                                                                rows="3" placeholder="Write some note.."></textarea>
                                                        </div>
                                                    </div>
                                                </div> <!-- end row -->



                                        </div>

                                        <div class="tab-pane fade" id="second">
                                            <div class="row">
                                                <div class="col-6">
                                                    <div class="mb-3">
                                                        <label for="apartment-location" class="form-label">Location <span
                                                                class="text-danger">*</span></label>
                                                        <input class="form-control" type="text"
                                                            placeholder="Enter your location" id="apartment-location"
                                                            name="location"
                                                            required />
                                                    </div>

                                                </div>
                                                <div class="col-md-6">
                                                    <div class="mb-3">
                                                        <label class="form-label">Choose district located
                                                            <span class="text-danger">*</span></label>
                                                        <select data-toggle="select2" title="District" id="district-located" name="district-located" required>
                                                            <option >Choose District Location</option>

                                                            <option value="Wadajir">Wadajir</option>
                                                            <option value="Dharkenley">Dharkenley</option>
                                                            <option value="Deynile">Daynile</option>
                                                            <option value="Wardhigley">Wardhigley</option>
                                                            <option value="Howlwadag">Howl Wadaag</option>
                                                            <option value="Waberi">Waberi</option>
                                                            <option value="Habar jajab">Hamar Jijab</option>
                                                            <option value="Boondhere">Bondhere</option>
                                                            <option value="Karaan">Karaan</option>
                                                            <option value="Yaqshid">Yaqshid</option>
                                                            <option value="Huriwaa">Huriwaa</option>
                                                            <option value="Kahda">Kahda</option>
                                                            <option value="Hodan">Hodan</option>
                                                            <option value="Shibis">Shibis</option>
                                                            <option value="Abdiaziz">Abdiaziz</option>
                                                            <option value="Shangani">Shangani</option>
                                                            <option value="Daaru salam">Abdiaziz</option>
                                                            <option value="Garasbaley">Garasbaley</option>

                                                        </select>
                                                        <div class="invalid-feedback">
                                                            Choose Distric Location
                                                        </div>
                                                    </div>

                                                </div> <!-- end col -->
                                                
                                            </div>
                                            <!-- end row -->

                                            <div class="row">
                                                <div class="col-12">
                                                    <h4 class="mt-2">Apartment Features Checklist</h4>
                                                    <p>Customize your search by selecting the amenities and features that
                                                        matter most to you.</p>

                                                </div>
                                                <!-- end col -->
                                            </div>
                                            <!-- end row -->



                                            <div class="row">
                                                <div class="col-md-4">
                                                    <div class="mt-2">
                                                        <div class="form-check">
                                                            <input type="checkbox" class="form-check-input" id="gym"
                                                                name="gym"
                                                                >
                                                            <label class="form-check-label" for="gym">Gym</label>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- end col -->

                                                <div class="col-md-4">
                                                    <div class="mt-2">
                                                        <div class="form-check">
                                                            <input type="checkbox" class="form-check-input" id="alarm"
                                                                name="alarm"
                                                                >
                                                            <label class="form-check-label" for="alarm">Alarm</label>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                    <div class="mt-2">
                                                        <div class="form-check">
                                                            <input type="checkbox" class="form-check-input" id="internet"
                                                                name="internet"
                                                                >
                                                            <label class="form-check-label" for="internet">Internet</label>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- end col -->
                                            </div>
                                            <!-- end row -->

                                            <div class="row">
                                                <div class="col-md-4">
                                                    <div class="mt-2">
                                                        <div class="form-check">
                                                            <input type="checkbox" class="form-check-input"
                                                                id="air-conditioner" name="air-conditioner"
                                                                >
                                                            <label class="form-check-label" for="air-conditioner">Air
                                                                Conditioner</label>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- end col -->

                                                <div class="col-md-4">
                                                    <div class="mt-2">
                                                        <div class="form-check">
                                                            <input type="checkbox" class="form-check-input" id="car-parking"
                                                                name="car-parking"
                                                                >
                                                            <label class="form-check-label" for="car-parking">Car
                                                                Parking</label>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                    <div class="mt-2">
                                                        <div class="form-check">
                                                            <input type="checkbox" class="form-check-input"
                                                                id="swimming-pool" name="swimming-pool"
                                                                >
                                                            <label class="form-check-label" for="swimming-pool">Swimming
                                                                Pool</label>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- end col -->
                                            </div>
                                            <!-- end row -->


                                        </div>

                                        <div class="tab-pane fade" id="third">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <h4 class="mt-2">Property Images</h4>
                                                    <p class="text-muted mb-4">Please Insert Pictures of the Apartment atleast one Pictures .</p>
                                                    <div class="mb-3">
                                                        <div class="row">
                                                            <div class="col-md-4">
                                                                <div class="mb-3">
                                                                    <label for="img-1" class="form-label">Gallery_1 <span
                                                                            class="text-danger">*</span></label>
                                                                    <input type="file" id="img-1" name="img-1"
                                                                        
                                                                        class="form-control" required>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-4">
                                                                <div class="mb-3">
                                                                    <label for="img-2"
                                                                        class="form-label">Gallery_2</span></label>
                                                                    <input type="file" id="img-2" name="img-2"
                                                                       
                                                                        class="form-control">
                                                                </div>
                                                            </div>
                                                            <div class="col-md-4">
                                                                <div class="mb-3">
                                                                    <label for="img-3" class="form-label">Gallery_3</label>
                                                                    <input type="file" id="img-3" name="img-3"
                                                                        class="form-control">
                                                                </div>
                                                            </div>
                                                        </div> <!-- end row -->
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- end row -->

                                            <div class="row">
                                                <div class="col-md-12">
                                                    <h4 class="mt-2">Property Video</h4>
                                                    <p class="text-muted mb-4">Please Insert one Video of the Apartment.</p>
                                                    <div class="mb-3">
                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <div class="mb-3">
                                                                    <label for="video" class="form-label">Video <span
                                                                            class="text-danger">*</span></label>
                                                                    <input type="file" id="video" name="video"
                                                                        class="form-control" required>
                                                                </div>
                                                            </div>
                                                        </div> <!-- end row -->
                                                    </div>
                                                </div>
                                            </div> <!-- end row -->

                                            <div class="row">
                                                <div class="col-md-12">
                                                  <h4 class="mt-2">Owner Identification</h4>
                                                  <p class="text-muted mb-4">Please provide the legal identification details as they appear on your official documents. This information is crucial for verification and security purposes.</p>
                                                  <div class="mb-3">
                                                    <div class="row px-2">
                                                      <div class="col-md-4">
                                                          <div class="mb-3">
                                                            <label for="document-type" class="form-label">Document Type <span class="text-danger">*</span></label>
                                                            <input type="text" class="form-control" name="document-type" id="document-type" placeholder="e.g., Passport, Driver's License" required>
                                                          </div>
                                                      </div>
                                                      <div class="col-md-4">
                                                          <div class="mb-3">
                                                            <label for="identification-number" class="form-label">Identification Number <span class="text-danger">*</span></label>
                                                            <input type="text" class="form-control" name="identification-number" id="identification-number" required>
                                                          </div>
                                                      </div>
                                                      <div class="col-md-4">
                                                          <div class="mb-3">
                                                            <label for="document-file" class="form-label">Upload Identification Document <span class="text-danger">*</span></label>
                                                            <input type="file" class="form-control" name="document-file" id="document-file" required accept=".pdf, .docx, .jpg, .jpeg, .png" required>
                                                          </div>
                                                      </div>
                                                  </div>
                                                  </div>
                                                </div>
                                              </div> <!-- end row -->
                                            
                                            
                                        </div>

                                        <ul class="list-inline wizard mb-0 mt-4">
                                            <li class="previous list-inline-item"><a href="javascript:void(0);" class="btn btn-danger" id="previous-button">Previous</a></li>
                                            <li class="next list-inline-item float-end"><a href="javascript:void(0);" class="btn btn-danger" id="next-button">Next</a></li>
                                            <li class="submit list-inline-item float-end" style="display: none;">
                                                <button class="btn btn-primary" type="submit">
                                                    <span class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true"></span>
                                                    <span class="button-text">Submit</span>
                                                </button>
                                            </li>
                                        </ul>

                                    </div> <!-- tab-content -->
                                </form>
                            </div> <!-- end #rootwizard-->
                            

                        </div> <!-- end card-body -->
                    </div> <!-- end card-->
                </div> <!-- end col -->
            </div>
            <!-- end row-->

        </div> <!-- container -->

        {% include "admin_partial/footer.html" %}
    </div>

</div>
{% endblock %}


<!-- right_sidebar -->
{% block right_sidebar %}

{% include "admin_partial/right_sidebar.html" %}

<script>
    document.addEventListener("DOMContentLoaded", function() {
        var $ = jQuery; // Ensure jQuery is available as '$'
        const nextButton = document.getElementById('next-button');
        const previousButton = document.getElementById('previous-button');
        const submitButton = document.querySelector('.submit');
        const navLinks = $('#rootwizard .nav-link');
        const totalTabs = navLinks.length;
        let currentIndex = 0;
    
        function updateButtonVisibility() {
            if (currentIndex === totalTabs - 1) {  // Last tab
                nextButton.style.display = 'none';
                submitButton.style.display = 'inline-block';
            } else {
                nextButton.style.display = 'inline-block';
                submitButton.style.display = 'none';
            }
            previousButton.style.display = currentIndex === 0 ? 'none' : 'inline-block';
        }
    
        navLinks.each(function(index) {
            $(this).on('click', function (e) {
                e.preventDefault();
                currentIndex = index;
                $(this).tab('show');
                updateButtonVisibility();
            });
        });
    
        nextButton.addEventListener('click', function() {
            if (currentIndex < totalTabs - 1) {
                currentIndex++;
                $(navLinks[currentIndex]).tab('show');
            }
            updateButtonVisibility();
        });
    
        previousButton.addEventListener('click', function() {
            if (currentIndex > 0) {
                currentIndex--;
                $(navLinks[currentIndex]).tab('show');
            }
            updateButtonVisibility();
        });
    
        updateButtonVisibility(); // Initial button setup
    });
    </script>
{% endblock %}