{% extends "base_admin.html" %}
{% load static %}

{% block wrapper %}



<div class="wrapper">
    {% include "admin_partial/left_sidebar.html" %}
    <div class="content-page">
        <div class="content">
            {% include "admin_partial/topbar.html" %}

            <!-- Start Content-->
            <div class="container-fluid">
                <!-- Start page title -->
                <div class="row">
                    <div class="col-12">
                        <div class="page-title-box">
                            <div class="page-title-right">
                                <ol class="breadcrumb m-0">
                                    <li class="breadcrumb-item"><a href="javascript: void(0);">SomaliRealEstate</a></li>
                                    <li class="breadcrumb-item"><a href="javascript: void(0);">Pages</a></li>
                                    <li class="breadcrumb-item active">Owner Profile</li>
                                </ol>
                            </div>
                            <h4 class="page-title">Owner Profile</h4>
                        </div>
                    </div>
                </div>     
                <!-- end page title --> 

                <div class="row">
                    <div class="col-xl-4 col-lg-5">
                        <div class="card text-center">
                            <div class="card-body">
                                {% if profile.profile_picture %}
                                    <img src="{{ profile.profile_picture.url }}" class="rounded-circle avatar-lg img-thumbnail" alt="profile-image">
                                {% else %}
                                    {% if owner.gender == 'male' %}
                                        <img src="{% static 'user_styles/images/avatar_man.png' %}" alt="Default Male Avatar" class="rounded-circle avatar-lg img-thumbnail">
                                    {% elif owner.gender == 'female' %}
                                        <img src="{% static 'user_styles/images/avatar_woman.png' %}" alt="Default Female Avatar" class="rounded-circle avatar-lg img-thumbnail">
                                    {% endif %}
                                {% endif %}

                                <h4 class="mb-0 mt-2">{{ owner.first_name }} {{ owner.middle_name }}</h4>
                                <p class="text-muted font-14">Owner</p>

                                <button type="button" class="btn btn-primary btn-sm mb-2">Follow</button>
                                <button type="button" class="btn btn-danger btn-sm mb-2">Message</button>

                                <div class="text-start mt-3">
                                    <h4 class="font-13 text-uppercase">About Me :</h4>
                                    <p class="text-muted font-13 mb-3">
                                        {{ profile.bio|default:"No bio available." }}
                                    </p>
                                    <p class="text-muted mb-2 font-13"><strong>Full Name :</strong> <span class="ms-2">{{ owner.first_name }} {{ owner.middle_name }} {{ owner.last_name }}</span></p>

                                    <p class="text-muted mb-2 font-13"><strong>Mobile :</strong><span class="ms-2">{{ owner.phone_number }}</span></p>

                                    <p class="text-muted mb-2 font-13"><strong>Email :</strong> <span class="ms-2 ">{{ owner.email_address}}</span></p>

                                    <p class="text-muted mb-1 font-13"><strong>Address :</strong> <span class="ms-2">{{ owner.address|default:"Not provided" }}</span></p>
                                </div>

                                <ul class="social-list list-inline mt-3 mb-0">
                                    <li class="list-inline-item">
                                        <a href="{{ profile.facebook_link }}" class="social-list-item border-primary text-primary" target="_blank"><i
                                                class="mdi mdi-facebook"></i></a>
                                    </li>
                                    <li class="list-inline-item">
                                        <a href="javascript: void(0);" class="social-list-item border-danger text-danger"><i
                                                class="mdi mdi-google"></i></a>
                                    </li>
                                    <li class="list-inline-item">
                                        <a href="{{ profile.youtube_link }}" class="social-list-item border-info text-danger" target="_blank"><i
                                                class="mdi mdi-youtube"></i></a>
                                    </li>
                                    <li class="list-inline-item">
                                        <a href="javascript: void(0);" class="social-list-item border-secondary text-secondary"><i
                                                class="mdi mdi-github"></i></a>
                                    </li>
                                </ul>
                            </div> <!-- end card-body -->
                        </div> <!-- end card -->
                    </div> <!-- end col-->

                    <div class="col-xl-8 col-lg-7">
                        <div class="card">
                            <div class="card-body">
                                <ul class="nav nav-pills bg-nav-pills nav-justified mb-3">
                                    <li class="nav-item">
                                        <a href="#property_details" data-bs-toggle="tab" aria-expanded="true" class="nav-link rounded-0 active">
                                            Property Details
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="#edit_profile" data-bs-toggle="tab" aria-expanded="false" class="nav-link rounded-0">
                                            Edit Profile
                                        </a>
                                    </li>
                                </ul>

                                <div class="tab-content">

                                    <!-- Timeline content -->
                                    <div class="tab-pane show active" id="property_details">
            
                                        <!-- comment box -->
                                        <div class="border rounded mt-2 mb-3">
                                            <form action="#" class="comment-area-box">
                                                <textarea rows="3" class="form-control border-0 resize-none" placeholder="Write something...."></textarea>
                                                <div class="p-2 bg-light d-flex justify-content-between align-items-center">
                                                    <div>
                                                        <a href="#" class="btn btn-sm px-2 font-16 btn-light"><i class="mdi mdi-account-circle"></i></a>
                                                        <a href="#" class="btn btn-sm px-2 font-16 btn-light"><i class="mdi mdi-map-marker"></i></a>
                                                        <a href="#" class="btn btn-sm px-2 font-16 btn-light"><i class="mdi mdi-camera"></i></a>
                                                        <a href="#" class="btn btn-sm px-2 font-16 btn-light"><i class="mdi mdi-emoticon-outline"></i></a>
                                                    </div>
                                                    <button type="submit" class="btn btn-sm btn-dark waves-effect">Post</button>
                                                </div>
                                            </form>
                                        </div> <!-- end .border-->
                                        <!-- end comment box -->

                                        <!-- Story Box-->
                                        <div class="border border-light rounded p-2 mb-3">
                                            <div class="d-flex">
                                                <img class="me-2 rounded-circle" src="assets/images/owners/avatar-3.jpg"
                                                    alt="Generic placeholder image" height="32">
                                                <div>
                                                    <h5 class="m-0">Jeremy Tomlinson</h5>
                                                    <p class="text-muted"><small>about 2 minuts ago</small></p>
                                                </div>
                                            </div>
                                            <p>Story based around the idea of time lapse, animation to post soon!</p>

                                            <img src="assets/images/small/small-1.jpg" alt="post-img" class="rounded me-1"
                                                height="60" />
                                            <img src="assets/images/small/small-2.jpg" alt="post-img" class="rounded me-1"
                                                height="60" />
                                            <img src="assets/images/small/small-3.jpg" alt="post-img" class="rounded"
                                                height="60" />

                                            <div class="mt-2">
                                                <a href="javascript: void(0);" class="btn btn-sm btn-link text-muted"><i
                                                        class="mdi mdi-reply"></i> Reply</a>
                                                <a href="javascript: void(0);" class="btn btn-sm btn-link text-muted"><i
                                                        class="mdi mdi-heart-outline"></i> Like</a>
                                                <a href="javascript: void(0);" class="btn btn-sm btn-link text-muted"><i
                                                        class="mdi mdi-share-variant"></i> Share</a>
                                            </div>
                                        </div>

                                        <!-- Story Box-->
                                        <div class="border border-light rounded p-2 mb-3">
                                            <div class="d-flex">
                                                <img class="me-2 rounded-circle" src="assets/images/owners/avatar-4.jpg"
                                                    alt="Generic placeholder image" height="32">
                                                <div>
                                                    <h5 class="m-0">Thelma Fridley</h5>
                                                    <p class="text-muted"><small>about 1 hour ago</small></p>
                                                </div>
                                            </div>
                                            <div class="font-16 text-center fst-italic text-dark">
                                                <i class="mdi mdi-format-quote-open font-20"></i> Cras sit amet nibh libero, in
                                                gravida nulla. Nulla vel metus scelerisque ante sollicitudin. Cras
                                                purus odio, vestibulum in vulputate at, tempus viverra turpis. Duis
                                                sagittis ipsum. Praesent mauris. Fusce nec tellus sed augue semper
                                                porta. Mauris massa.
                                            </div>

                                            <div class="mx-n2 p-2 mt-3 bg-light">
                                                <div class="d-flex">
                                                    <img class="me-2 rounded-circle" src="assets/images/owners/avatar-3.jpg"
                                                        alt="Generic placeholder image" height="32">
                                                    <div>
                                                        <h5 class="mt-0">Jeremy Tomlinson <small class="text-muted">3 hours ago</small></h5>
                                                        Nice work, makes me think of The Money Pit.

                                                        <br/>
                                                        <a href="javascript: void(0);" class="text-muted font-13 d-inline-block mt-2"><i
                                                            class="mdi mdi-reply"></i> Reply</a>

                                                        <div class="d-flex mt-3">
                                                            <a class="pe-2" href="#">
                                                                <img src="assets/images/owners/avatar-4.jpg" class="rounded-circle"
                                                                    alt="Generic placeholder image" height="32">
                                                            </a>
                                                            <div>
                                                                <h5 class="mt-0">Thelma Fridley <small class="text-muted">5 hours ago</small></h5>
                                                                i'm in the middle of a timelapse animation myself! (Very different though.) Awesome stuff.
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="d-flex mt-2">
                                                    <a class="pe-2" href="#">
                                                        <img src="assets/images/owners/avatar-1.jpg" class="rounded-circle"
                                                            alt="Generic placeholder image" height="32">
                                                    </a>
                                                    <div class="w-100">
                                                        <input type="text" id="simpleinput" class="form-control border-0 form-control-sm" placeholder="Add comment">
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="mt-2">
                                                <a href="javascript: void(0);" class="btn btn-sm btn-link text-danger"><i
                                                        class="mdi mdi-heart"></i> Like (28)</a>
                                                <a href="javascript: void(0);" class="btn btn-sm btn-link text-muted"><i
                                                        class="mdi mdi-share-variant"></i> Share</a>
                                            </div>
                                        </div>

                                        <!-- Story Box-->
                                        <div class="border border-light p-2 mb-3">
                                            <div class="d-flex">
                                                <img class="me-2 rounded-circle" src="assets/images/owners/avatar-6.jpg"
                                                    alt="Generic placeholder image" height="32">
                                                <div>
                                                    <h5 class="m-0">Martin Williamson</h5>
                                                    <p class="text-muted"><small>15 hours ago</small></p>
                                                </div>
                                            </div>
                                            <p>The parallax is a little odd but O.o that house build is awesome!!</p>

                                            <iframe src='https://player.vimeo.com/video/87993762' height='300' class="img-fluid border-0"></iframe>
                                        </div>

                                        <div class="text-center">
                                            <a href="javascript:void(0);" class="text-danger"><i class="mdi mdi-spin mdi-loading me-1"></i> Load more </a>
                                        </div>

                                    </div>
                                    <!-- end property_details content-->
                                    {% include "partials/alert_message.html" %}
                                    <div class="tab-pane" id="edit_profile">
                                        <form method="POST" action="{% url 'admin_dashboard:owner_profile' owner.id %}" enctype="multipart/form-data">
                                            {% csrf_token %}
                                            <h5 class="mb-4 text-uppercase"><i class="mdi mdi-account-circle me-1"></i> Personal Info</h5>
                                            <div class="mb-3">
                                                <label for="firstname" class="form-label">First Name</label>
                                                <input type="text" class="form-control" id="firstname" name="first_name" placeholder="Enter first name" value="{{ owner.first_name }}">
                                            </div>
                                            <div class="mb-3">
                                                <label for="middlename" class="form-label">Middle Name</label>
                                                <input type="text" class="form-control" id="middlename" name="middle_name" placeholder="Enter middle name" value="{{ owner.middle_name }}">
                                            </div>
                                            <div class="mb-3">
                                                <label for="lastname" class="form-label">Last Name</label>
                                                <input type="text" class="form-control" id="lastname" name="last_name" placeholder="Enter last name" value="{{ owner.last_name }}">
                                            </div>
                                            <div class="mb-3">
                                                <label for="date_of_birth" class="form-label">Date of Birth</label>
                                                <input type="date" class="form-control" id="date_of_birth" name="date_of_birth" value="{{ owner.date_of_birth|date:'Y-m-d' }}">
                                            </div>
                                            <div class="mb-3">
                                                <label for="phone_number" class="form-label">Phone Number</label>
                                                <input type="text" class="form-control" id="phone_number" name="phone_number" placeholder="Enter phone number" value="{{ owner.phone_number }}">
                                            </div>
                                            <div class="mb-3">
                                                <label for="address" class="form-label">Address</label>
                                                <input type="text" class="form-control" id="address" name="address" placeholder="Enter address" value="{{ owner.address }}">
                                            </div>
                                            <div class="mb-3">
                                                <label for="occupation" class="form-label">Occupation</label>
                                                <input type="text" class="form-control" id="occupation" name="occupation" placeholder="Enter occupation name" value="{{ owner.occupation }}">
                                            </div>
                                            <div class="mb-3">
                                                <label for="owneremail" class="form-label">Email Address</label>
                                                <input type="email" class="form-control" id="owneremail" name="email_address" placeholder="Enter email" value="{{ owner.email_address }}">
                                            </div>
                                            <div class="mb-3">
                                                <label for="owneremail" class="form-label">State</label>
                                                <select class="form-select" id="state" name="state">
                                                    <option value="">-- State of Residence --</option>
                                                    <option value="Banadir" {% if owner.state == 'Banadir' %} selected {% endif %}>Banadir</option>
                                                    <option value="Hershabelle" {% if owner.state == 'Hershabelle' %} selected {% endif %}>Hershabelle</option>
                                                    <option value="Galmudug" {% if owner.state == 'Galmudug' %} selected {% endif %}>Galmudug</option>
                                                    <option value="Jubbaland" {% if owner.state == 'Jubbaland' %} selected {% endif %}>Jubbaland</option>
                                                    <option value="Koonfur-galbeed" {% if owner.state == 'Koonfur-galbeed' %} selected {% endif %}>Koonfur Galbeed</option>
                                                    <option value="Puntland" {% if owner.state == 'Puntland' %} selected {% endif %}>Puntland</option>
                                                </select>
                                            </div>
                                            
                                                

                                            <div class="mb-3">
                                                <label for="ownerbio" class="form-label">Bio</label>
                                                <textarea class="form-control" id="ownerbio" name="bio" rows="4" placeholder="Write something...">{{ profile.bio }}</textarea>
                                            </div>
                                            <div class="mb-3">
                                                <label for="profile_picture" class="form-label">Profile Picture</label>
                                                <input type="file" name="profile_picture" class="form-control" accept="image/*">
                                                {% if profile.profile_picture %}
                                                    <img src="{{ profile.profile_picture.url }}" height="100" alt="Current Profile Picture">
                                                {% endif %}
                                            </div>
                                            <!-- Social Media Section -->
                                            <h5 class="mb-3 text-uppercase bg-light p-2"><i class="mdi mdi-earth me-1"></i> Social Media</h5>
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="mb-3">
                                                        <label for="facebook_link" class="form-label">Facebook</label>
                                                        <input type="url" class="form-control" id="facebook_link" name="facebook_link" placeholder="Facebook URL" value="{{ profile.facebook_link }}">
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="mb-3">
                                                        <label for="youtube_link" class="form-label">Youtube</label>
                                                        <input type="url" class="form-control" id="youtube_link" name="youtube_link" placeholder="Youtube URL" value="{{ profile.twitter_link }}">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="mb-3">
                                                        <label for="instagram_link" class="form-label">Instagram</label>
                                                        <input type="url" class="form-control" id="instagram_link" name="instagram_link" placeholder="Instagram URL" value="{{ profile.instagram_link }}">
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="mb-3">
                                                        <label for="linkedin_link" class="form-label">LinkedIn</label>
                                                        <input type="url" class="form-control" id="linkedin_link" name="linkedin_link" placeholder="LinkedIn URL" value="{{ profile.linkedin_link }}">
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <div class="text-end">
                                                <button class="btn btn-primary mt-2" type="submit">
                                                    <span class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true"></span>
                                                    <span class="button-text"><i class="mdi mdi-content-save"></i> Save</span>
                                                </button>
                                               
                                            </div>
                                        </form>
                                    </div>
                                    <!-- end edit_profile content-->
                                    
                                </div> <!-- end tab-content -->
                            </div> <!-- end card-body -->
                        </div> <!-- end card -->


                    </div> <!-- end col -->
                </div>
                <!-- end row-->
            </div> 
            {% include "admin_partial/footer.html" %}
        </div>   
    </div>  
</div>
{% endblock %}
